{% extends 'base_dashboard.html.twig' %}

{# form_theme form.images with ['form_div_layout.html.twig'] only #}
{% form_theme form.keywords 'form/register_layout.html.twig' %}
{% form_theme form.title 'form/register_layout.html.twig' %}
{% form_theme form.size_begin 'form/register_layout.html.twig' %}
{% form_theme form.size_end 'form/register_layout.html.twig' %}
{% form_theme form.promoted_words 'form/register_layout.html.twig' %}


{% block content %}
    <h1 class="mt-4">Создание статьи</h1>
    <div class="row">

        <div class="col-xl-6">
            <div class="alert alert-danger" role="alert">
                Превышен лимит создания статей, чтобы снять лимит <a href="{{ path('app_dashboard_subscription') }}">Улучшите подписку</a>
            </div>
            {{ form_start(form) }}
                {{ form_row(form.theme, {
                    label: 'Тематика',
                    placeholder: '-',
                    required: true
                }) }}
                {{ form_row(form.title, {
                    label: 'Заголовок статьи',
                    attr: { placeholder: 'Заголовок статьи' },
                    required: false
                }) }}
                <div class="card mb-4">
                    <div class="card-body">
                        <p class="card-title">Ключевое слово</p>
                        {% for index, keyword in zip(form.keywords, ['Ключевое слово', 'Родительный падеж', 'Дательный падеж', 'Винительный падеж', 'Творительный падеж', 'Предложный падеж', 'Множественное число']) %}
                            {{ form_row(keyword[0], {
                                label: keyword[1],
                                attr: { placeholder: keyword[1] },
                                required: index == 0
                            }) }}
                        {% endfor %}
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        {{ form_row(form.size_begin, {
                            label: 'Размер статьи от',
                            attr: { placeholder: 'Размер статьи' },
                            required: true
                        }) }}
                    </div>
                    <div class="col">
                        {{ form_row(form.size_end, {
                            label: 'До',
                            attr: { placeholder: 'До' },
                            required: false
                        }) }}
                    </div>
                </div>
                <div class="card mb-4">
                    <div class="card-body">
                        <p class="card-title">Продвигаемые слова</p>
                        {%  for promoted_word in form.promoted_words %}
                            <div class="row">
                                {{ form_row(promoted_word, {
                                    label: 'Продвигаемое слово',
                                    attr: { placeholder: 'Продвигаемое слово' },
                                    required: false
                                }) }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
                {{ form_row(form.images, {
                    required: false
                }) }}
                <button class="btn btn-lg btn-primary btn-block text-uppercase" type="submit">Создать</button>
            {{ form_end(form) }}
        </div>
    </div>

    <hr>

    <h2 class="mt-4">Ваша статья</h2>

    <hr>


    <div class="row">

        <div class="col-xl-6">

            <h1 class="mt-4">Тестовая статья</h1>
            <div class="media">
                <img class="mr-3" src="https://via.placeholder.com/250x250" width="250" height="250" alt="">
                <div class="media-body">
                    <p>Lorem Ipsum <b>EXAMPLE</b> dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <p>Lorem Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. <b>EXAMPLE</b> Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <p>Lorem Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore <b>EXAMPLE</b> magna <b>EXAMPLE</b> aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex <b>EXAMPLE</b> ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>
                <div class="col-sm-6">
                    <p>Lorem Ipsum dolor sit amet, consectetur adipiscing elit <b>EXAMPLE</b>, sed do eiusmod tempor incididunt ut labore et dolore magna <b>EXAMPLE</b> aliqua. </p>
                    <p>Lorem Ipsum dolor sit amet, consectetur <b>EXAMPLE</b> adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore <b>EXAMPLE</b> magna <b>EXAMPLE</b> aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex <b>EXAMPLE</b> ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>
            </div>

            <div class="media">
                <div class="media-body">
                    <p>Lorem Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <p>Lorem Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad <b>EXAMPLE</b> minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>
                <img class="ml-3" src="https://via.placeholder.com/250x250" width="250" height="250" alt="">
            </div>

            <h3>Eheu, domina!</h3>
            <p><b>EXAMPLE</b> Lorem Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>

    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        /** @type {HTMLInputElement} */
        var imageInput = document.querySelector('input.custom-file-input');
        var imageLabel = document.querySelector('label.custom-file-label');
        imageInput.addEventListener('change', onchange);

        function onchange(event) {
            imageLabel.innerText  = Array.from(event.target.files).map(function (file) {
                return file.name;
            }).join(', ');
        }
    </script>
{% endblock %}

